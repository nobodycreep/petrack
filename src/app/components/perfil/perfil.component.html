<div class="perfil-container">
  <div class="perfil-card">

    <!-- Imagen de la mascota -->
    <div class="perfil-header">
      <img [src]="mascota.foto" alt="Foto de la mascota" class="mascota-img" />

      <!-- Input de imagen solo en modo edición -->
      <div *ngIf="editMode" class="upload-img">
        <label for="fotoInput"><strong>Cambiar foto</strong></label>
        <input id="fotoInput" type="file" (change)="subirImagenMascota($event)" />
      </div>
    </div>

    <!-- Contenido del perfil -->
    <div class="perfil-body">
      
      <!-- Nombre -->
      <div *ngIf="!editMode">
        <h2 class="nombre">{{ mascota.nombre }}</h2>
      </div>
      <div *ngIf="editMode">
        <label><strong>Nombre</strong></label>
        <input
          type="text"
          [(ngModel)]="mascota.nombre"
          placeholder="Nombre"
          class="input-edit"
          pattern="[A-Za-z ]+"
          title="Solo se permiten letras y espacios"
        />
      </div>

      <!-- Edad -->
      <div *ngIf="!editMode">
        <p><strong>Edad:</strong> {{ mascota.edad }} años</p>
      </div>
      <div *ngIf="editMode">
        <label><strong>Edad</strong></label>
        <input
          type="number"
          [(ngModel)]="mascota.edad"
          placeholder="Edad"
          class="input-edit"
          min="0"
          max="30"
        />
      </div>

      <!-- Raza -->
      <div *ngIf="!editMode">
        <p><strong>Raza:</strong> {{ mascota.raza }}</p>
      </div>
      <div *ngIf="editMode">
        <label><strong>Raza</strong></label>
        <input
          type="text"
          [(ngModel)]="mascota.raza"
          placeholder="Raza"
          class="input-edit"
        />
      </div>

      <!-- Peso -->
      <div *ngIf="!editMode">
        <p><strong>Peso:</strong> {{ mascota.peso }} kg</p>
      </div>
      <div *ngIf="editMode">
        <label><strong>Peso</strong></label>
        <input
          type="number"
          [(ngModel)]="mascota.peso"
          placeholder="Peso"
          class="input-edit"
          min="0"
        />
      </div>

      <!-- Fecha de nacimiento -->
      <div *ngIf="!editMode">
        <p><strong>Fecha de nacimiento:</strong> {{ mascota.nacimiento }}</p>
      </div>
      <div *ngIf="editMode">
        <label><strong>Fecha de nacimiento</strong></label>
        <input
          type="date"
          [(ngModel)]="mascota.nacimiento"
          class="input-edit"
        />
      </div>
    </div>

    <!-- Botones de acción -->
    <div class="perfil-actions">
      <button *ngIf="!editMode" (click)="editarPerfil()">Editar Perfil</button>
      <button *ngIf="editMode" (click)="guardarPerfil()">Guardar Cambios</button>
    </div>

  </div>
</div>
